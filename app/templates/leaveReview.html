{% extends "base.html" %}

{% block content %}
    <h1>Leave Review</h1>

    <!--TODO: Add constrain such that user can only submit review for product that has been purchased, and only 1 review per product purchased-->
    <!--TODO: add constraints such that users must input something for both review and rating in order to submit-->
    <!--TODO: when button is unclickable, it should be grey. Otherwise it should be blue-->

    <form action="{{ url_for('reviews.send_review_by_uid_pid', uid = uid, pid = pid) }}" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="review">Rating</label>
            <select class="form-control" id="rating" name="rating">
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
        <div class="form-group">
            <label for="review">Review</label>
            <input type="text" class="form-control" id="review" name="review">
        </div>
        <div class="form-group">
            <label for="img">Select image:</label>
            <input type="file" id="file" name="img" accept="image/*" onchange="loadFile(event)">
        </div>
        <div class="form-group">
            <img id="file" class="img-thumbnail" style="max-width: 200px;">
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    <script>
      var loadFile = function(event) {
            var output = document.getElementById('output');
            output.src = URL.createObjectURL(event.target.files[0]);
        };
  </script>

{% endblock %}